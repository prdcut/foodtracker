{"version":3,"file":"js/355.c4e0339b.js","mappings":"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","sources":["webpack://foodtracker/./src/views/LoginView.vue?9d70","webpack://foodtracker/./src/views/LoginView.vue?8ec8","webpack://foodtracker/./src/views/LoginView.vue?9092","webpack://foodtracker/./src/views/LoginView.vue"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('b-row',{staticClass:\"d-flex justify-content-center h-100\"},[_c('b-col',{staticClass:\"my-auto\",attrs:{\"md\":\"4\"}},[_c('b-card',{attrs:{\"border-variant\":\"primary\"}},[_c('b-row',[_c('b-col',[_c('b-alert',{staticClass:\"p-1 text-center\",attrs:{\"show\":_vm.dismissCountDown,\"variant\":\"primary\",\"fade\":\"\"},on:{\"dismissed\":function($event){_vm.dismissCountDown = 0},\"dismiss-count-down\":_vm.countDownChanged}},[_vm._v(\" Wrong username or password! \")])],1)],1),_c('b-row',[_c('h1',{staticClass:\"text-center text-primary display-1\"},[_vm._v(\"Food Tracker\")])]),_c('b-row',{staticClass:\"d-flex justify-content-center align-items-center\"},[_c('b-col',{attrs:{\"md\":\"9\"}},[_c('validation-observer',{scopedSlots:_vm._u([{key:\"default\",fn:function({ handleSubmit, reset }){return [_c('b-form',{staticClass:\"h-100 mt-2\",attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.login)},\"reset\":function($event){$event.preventDefault();return reset.apply(null, arguments)}}},[_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('label',[_vm._v(\"Username\")])]),_c('b-col',[_c('validation-provider',{attrs:{\"name\":\"Username\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',[_c('b-form-input',{staticClass:\"input\",attrs:{\"id\":\"username\",\"type\":\"text\",\"autocomplete\":\"off\",\"state\":_vm.validationState(validationContext)},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('b-form-invalid-feedback',[_vm._v(\" \"+_vm._s(validationContext.errors.find((x) => !!x))+\" \")])],1)]}}],null,true)})],1)],1),_c('b-row',{attrs:{\"align-v\":\"center\"}},[_c('b-col',{attrs:{\"sm\":\"3\"}},[_c('label',[_vm._v(\"Password\")])]),_c('b-col',[_c('validation-provider',{attrs:{\"name\":\"Password\",\"rules\":{ required: true }},scopedSlots:_vm._u([{key:\"default\",fn:function(validationContext){return [_c('b-form-group',[_c('b-form-input',{staticClass:\"input\",attrs:{\"id\":\"password\",\"type\":\"password\",\"autocomplete\":\"off\",\"state\":_vm.validationState(validationContext)},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('b-form-invalid-feedback',[_vm._v(\" \"+_vm._s(validationContext.errors.find((x) => !!x))+\" \")])],1)]}}],null,true)})],1)],1),_c('b-row',{staticClass:\"d-flex justify-content-center align-items-center text-center\"},[_c('b-col',{attrs:{\"md\":\"9\"}},[_c('b-button',{staticClass:\"d-block my-4 w-100 text-light\",attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[(_vm.loading)?[_c('b-spinner',{attrs:{\"small\":\"\"}})]:_vm._e(),(!_vm.loading)?[_vm._v(\" Login \")]:_vm._e()],2),_c('p',[_vm._v(\" New here? \"),_c('b-link',{staticClass:\"text-decoration-none text-primary\",attrs:{\"to\":\"/register\"}},[_vm._v(\"register\")])],1)],1)],1)],1)]}}])})],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator';\nimport ApiService from '@/services/api.service';\n\nimport { ValidationObserver, ValidationProvider } from 'vee-validate';\n\n@Component({\n  components: {\n    ValidationProvider,\n    ValidationObserver,\n  },\n})\nexport default class LoginView extends Vue {\n  private apiService: ApiService = new ApiService();\n  private loading = false;\n\n  private username = '';\n  private password = '';\n\n  private dismissSecs = 10;\n  private dismissCountDown = 0;\n  private showDismissibleAlert = false;\n\n  validationState({\n    dirty,\n    validated,\n    valid,\n  }: {\n    dirty: boolean;\n    validated: boolean;\n    valid: boolean;\n  }) {\n    return dirty || validated ? valid : null;\n  }\n\n  countDownChanged(dismissCountDown: number) {\n    this.dismissCountDown = dismissCountDown;\n  }\n\n  showAlert() {\n    this.dismissCountDown = this.dismissSecs;\n  }\n\n  async login() {\n    // console.log('login');\n\n    this.loading = true;\n\n    try {\n      const response = await this.apiService.login(\n        this.username,\n        this.password\n      );\n\n      if (response) {\n        localStorage.setItem(\n          'user',\n          JSON.stringify(response.data.user.username)\n        );\n        localStorage.setItem('token', JSON.stringify(response.data.token));\n        this.$router.push({ name: 'dashboard' });\n      }\n    } catch (error) {\n      console.log(error);\n      this.showAlert();\n    }\n\n    this.loading = false;\n  }\n}\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=8c25fb74&\"\nimport script from \"./LoginView.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoginView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","dismissCountDown","on","$event","countDownChanged","_v","scopedSlots","_u","key","fn","handleSubmit","reset","preventDefault","login","apply","arguments","required","validationContext","validationState","model","value","callback","$$v","username","expression","_s","errors","find","x","password","_e","loading","staticRenderFns","dirty","validated","valid","dismissSecs","apiService","response","localStorage","setItem","JSON","stringify","data","user","token","$router","push","name","console","log","showAlert","LoginView","components","ValidationProvider","ValidationObserver","component"],"sourceRoot":""}