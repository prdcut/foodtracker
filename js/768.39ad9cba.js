"use strict";(self["webpackChunkfoodtracker"]=self["webpackChunkfoodtracker"]||[]).push([[768],{6768:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"h-100"},[t("navbar-component",{staticClass:"mb-3"}),t("b-row",{staticClass:"d-flex justify-content-center"},[t("b-col",{attrs:{md:"3"}},[t("b-card",{staticClass:"h-100",attrs:{"border-variant":"primary"}},[e.loading?[t("div",{staticClass:"d-flex"},[t("b-spinner",{staticClass:"mx-auto",staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"primary"}})],1)]:[t("div",{staticClass:"d-flex-block"},[t("b-row",[t("b-avatar",{staticClass:"mx-auto",attrs:{src:e.userProfile.avatar,variant:"primary",size:"104px",rounded:""}})],1),t("div",{staticClass:"d-flex flex-column"},[t("h4",{staticClass:"mb-0 mx-auto"},[e._v(e._s(e.userProfile.username))]),t("span",{staticClass:"card-text mx-auto"},[e._v(e._s(e.userProfile.email))]),t("div",{staticClass:"d-flex mx-auto"},[t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteUserModal",modifiers:{deleteUserModal:!0}}],staticStyle:{width:"4rem"},attrs:{size:"sm",variant:"outline-primary"}},[e._v(" Delete ")]),t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.updateUserModal",modifiers:{updateUserModal:!0}}],staticClass:"ms-2 text-light",staticStyle:{width:"4rem"},attrs:{size:"sm",variant:"primary"}},[e._v(" Edit ")])],1)])],1),t("div",{staticClass:"d-flex justify-content-center mt-4"},[t("div",{staticClass:"me-4"},[t("div",{staticClass:"d-flex"},[t("unicon",{staticClass:"ms-auto",attrs:{name:"weight",width:"35",height:"35"}})],1),t("div",[t("h5",{staticClass:"mb-0"},[e._v(e._s(e.userProfile.currentWeight)+" Kg")])]),t("div",{staticClass:"d-flex"},[t("small",{staticClass:"ms-auto"},[e._v("Weight")])])]),t("div",[t("div",[t("unicon",{attrs:{name:"trophy",width:"35",height:"35"}})],1),t("div",[t("h5",{staticClass:"mb-0"},[e._v(e._s(e.userProfile.goalWeight)+" Kg")])]),t("div",{staticClass:"d-flex"},[t("small",{staticClass:"me-auto"},[e._v("Goal")])])])]),t("div",{staticClass:"mt-4 mx-auto"},[t("b-row",[t("b-col",[t("div",{staticClass:"d-flex"},[t("span",{staticClass:"ms-auto fw-bolder"},[e._v("Username")])])]),t("b-col",[e._v(" "+e._s(e.userProfile.username)+" ")])],1),t("b-row",[t("b-col",[t("div",{staticClass:"d-flex"},[t("span",{staticClass:"ms-auto fw-bolder"},[e._v("Birthdate")])])]),t("b-col",[e._v(" "+e._s(e.DATES.isoDates.getDateString(e.userProfile.birthdate))+" ")])],1),t("b-row",[t("b-col",[t("div",{staticClass:"d-flex"},[t("span",{staticClass:"ms-auto fw-bolder"},[e._v("Sex")])])]),t("b-col",[e._v(" "+e._s(e.userProfile.sex)+" ")])],1),t("b-row",[t("b-col",[t("div",{staticClass:"d-flex"},[t("span",{staticClass:"ms-auto fw-bolder"},[e._v("Height")])])]),t("b-col",[e._v(" "+e._s(e.userProfile.height)+"cm ")])],1)],1)]],2)],1)],1),t("b-modal",{attrs:{id:"deleteUserModal",size:"sm","footer-border-variant":"white","header-border-variant":"white","hide-footer":"","no-stacking":""},scopedSlots:e._u([{key:"modal-header",fn:function({close:r}){return[t("h5",[e._v("Deregister")]),t("b-button",{staticClass:"p-0",attrs:{size:"sm",variant:"link"},on:{click:function(e){return r()}}},[t("unicon",{attrs:{name:"times"}})],1)]}}])},[e._v(" By cliking on confirm all your user data will be removed from our servers. Are you utterly sure you want to proceed?"),t("br"),t("br"),t("span",{staticClass:"fw-bold"},[e._v("This action is not reversible!")]),t("b-row",{staticClass:"d-flex"},[t("b-col",[t("b-button",{staticClass:"mx-auto mt-3",staticStyle:{width:"95%"},attrs:{size:"sm",variant:"outline-secondary"},on:{click:e.cancelDeregister}},[e._v(" Cancel ")])],1),t("b-col",[t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.confirmDelete",modifiers:{confirmDelete:!0}}],staticClass:"mx-auto mt-3 text-light",staticStyle:{width:"95%"},attrs:{size:"sm",variant:"primary"}},[e._v(" Confirm ")])],1)],1)],1),t("b-modal",{attrs:{id:"confirmDelete",size:"sm","footer-border-variant":"white","header-border-variant":"white","hide-footer":""},scopedSlots:e._u([{key:"modal-header",fn:function({close:e}){return[t("div"),t("b-button",{staticClass:"p-0",attrs:{size:"sm",variant:"link"},on:{click:function(t){return e()}}},[t("unicon",{attrs:{name:"times"}})],1)]}}])},[e._v(" We are sad to see you go, just click on delete forever. "),t("b-button",{staticClass:"mx-auto mt-3 text-light",staticStyle:{width:"95%"},attrs:{size:"sm",variant:"primary"},on:{click:e.deregisterUser}},[e._v(" Delete Forever! ")])],1),t("b-modal",{attrs:{id:"updateUserModal","footer-border-variant":"white","header-border-variant":"white","hide-footer":""},scopedSlots:e._u([{key:"modal-header",fn:function({close:r}){return[t("h5",[e._v("Edit user info")]),t("b-button",{staticClass:"p-0",attrs:{size:"sm",variant:"link"},on:{click:function(e){return r()}}},[t("unicon",{attrs:{name:"times"}})],1)]}}])},[t("b-row",{staticClass:"d-flex justify-content-center align-items-center"},[t("b-col",{attrs:{md:"9"}},[t("validation-observer",{scopedSlots:e._u([{key:"default",fn:function({handleSubmit:r}){return[t("b-form",{staticClass:"h-100 mt-2",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),r(e.updateUser)}}},[t("b-row",{attrs:{"align-v":"center"}},[t("b-col",{attrs:{sm:"3"}},[t("label",[e._v("Email")])]),t("b-col",[t("validation-provider",{attrs:{name:"Email",rules:{required:!0,email:!0}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",[t("b-form-input",{staticClass:"input",attrs:{type:"email",state:e.validationState(r)},model:{value:e.userProfile.email,callback:function(t){e.$set(e.userProfile,"email",t)},expression:"userProfile.email"}}),t("b-form-invalid-feedback",[e._v(" "+e._s(r.errors.find((e=>!!e)))+" ")])],1)]}}],null,!0)})],1)],1),t("b-row",{attrs:{"align-v":"center"}},[t("b-col",{attrs:{sm:"3"}},[t("label",[e._v("Username")])]),t("b-col",[t("validation-provider",{attrs:{name:"Username",rules:{required:!0,min:5,max:20}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",[t("b-form-input",{staticClass:"input",attrs:{type:"text",state:e.validationState(r)},model:{value:e.userProfile.username,callback:function(t){e.$set(e.userProfile,"username",t)},expression:"userProfile.username"}}),t("b-form-invalid-feedback",[e._v(" "+e._s(r.errors.find((e=>!!e)))+" ")])],1)]}}],null,!0)})],1)],1),t("hr"),t("b-row",{attrs:{"align-v":"center"}},[t("b-col",{attrs:{sm:"3"}},[t("label",[e._v("Sex")])]),t("b-col",[t("validation-provider",{attrs:{name:"Sex",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",[t("v-select",{attrs:{id:"v-select",options:e.sexOptions,state:e.validationState(r),reduce:e=>e.value},model:{value:e.userProfile.sex,callback:function(t){e.$set(e.userProfile,"sex",t)},expression:"userProfile.sex"}}),t("b-form-invalid-feedback",[e._v(" "+e._s(r.errors.find((e=>!!e)))+" ")])],1)]}}],null,!0)})],1)],1),t("b-row",{attrs:{"align-v":"center"}},[t("b-col",{attrs:{sm:"3"}},[t("label",[e._v("Birthdate")])]),t("b-col",[t("validation-provider",{attrs:{name:"Birthdate",rules:{regex:/([12]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\d|3[01]))/}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",[t("b-form-input",{staticClass:"input",attrs:{type:"text",state:e.validationState(r),placeholder:"(yyyy-mm-dd)"},model:{value:e.userProfile.birthdate,callback:function(t){e.$set(e.userProfile,"birthdate",t)},expression:"userProfile.birthdate"}}),t("b-form-invalid-feedback",[e._v(" "+e._s(r.errors.find((e=>!!e)))+" ")])],1)]}}],null,!0)})],1)],1),t("hr"),t("b-row",{attrs:{"align-v":"center"}},[t("b-col",{attrs:{sm:"3"}},[t("label",[e._v("Height")])]),t("b-col",[t("validation-provider",{attrs:{name:"Height",rules:{numeric:!0,max:4}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",[t("b-form-input",{staticClass:"input",attrs:{type:"text",state:e.validationState(r)},model:{value:e.userProfile.height,callback:function(t){e.$set(e.userProfile,"height",t)},expression:"userProfile.height"}}),t("b-form-invalid-feedback",[e._v(" "+e._s(r.errors.find((e=>!!e)))+" ")])],1)]}}],null,!0)})],1)],1),t("b-row",{attrs:{"align-v":"center"}},[t("b-col",{attrs:{sm:"3"}},[t("label",[e._v("Weight")])]),t("b-col",[t("validation-provider",{attrs:{name:"Weight",rules:{numeric:!0}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",[t("b-form-input",{staticClass:"input",attrs:{type:"text",state:e.validationState(r)},model:{value:e.userProfile.currentWeight,callback:function(t){e.$set(e.userProfile,"currentWeight",t)},expression:"userProfile.currentWeight"}}),t("b-form-invalid-feedback",[e._v(" "+e._s(r.errors.find((e=>!!e)))+" ")])],1)]}}],null,!0)})],1)],1),t("b-row",{attrs:{"align-v":"center"}},[t("b-col",{attrs:{sm:"3"}},[t("label",[e._v("Goal Weight")])]),t("b-col",[t("validation-provider",{attrs:{name:"Goal weight",rules:{numeric:!0}},scopedSlots:e._u([{key:"default",fn:function(r){return[t("b-form-group",[t("b-form-input",{staticClass:"input",attrs:{type:"text",state:e.validationState(r)},model:{value:e.userProfile.goalWeight,callback:function(t){e.$set(e.userProfile,"goalWeight",t)},expression:"userProfile.goalWeight"}}),t("b-form-invalid-feedback",[e._v(" "+e._s(r.errors.find((e=>!!e)))+" ")])],1)]}}],null,!0)})],1)],1),t("b-row",{staticClass:"d-flex"},[t("b-col",[t("b-button",{staticClass:"mx-auto mt-3",staticStyle:{width:"95%"},attrs:{size:"sm",variant:"outline-secondary"},on:{click:e.cancelUpdateUser}},[e._v(" Cancel ")])],1),t("b-col",[t("b-button",{staticClass:"mx-auto mt-3 text-light",staticStyle:{width:"95%"},attrs:{size:"sm",variant:"primary",type:"submit"}},[e._v(" Update ")])],1)],1)],1)]}}])})],1)],1)],1)],1)},s=[],i=r(655),o=r(144),l=r(1929),n=r(5014),u=r(7119),c=r(4514),d=r(2954),b=function(e){function t(){var t=e.call(this)||this;return Object.defineProperty(t,"apiService",{enumerable:!0,configurable:!0,writable:!0,value:new n.Z}),Object.defineProperty(t,"loading",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"userProfile",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t.userProfile=new u.n5,t}return(0,i.ZT)(t,e),Object.defineProperty(t.prototype,"DATES",{get:function(){return c.p},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"username",{get:function(){return localStorage.getItem("user").slice(1,-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sexOptions",{get:function(){return[{label:"Male",value:"male"},{label:"Female",value:"female"}]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cancelDeregister",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.$bvModal.hide("deleteUserModal")}}),Object.defineProperty(t.prototype,"cancelUpdateUser",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.$bvModal.hide("updateUserModal")}}),Object.defineProperty(t.prototype,"validationState",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.dirty,r=e.validated,a=e.valid;return t||r?a:null}}),Object.defineProperty(t.prototype,"loadUser",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:this.loading=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.apiService.getUserData(this.username)];case 2:return e=r.sent(),e&&(this.userProfile=e),[3,4];case 3:return t=r.sent(),console.log(t),[3,4];case 4:return this.loading=!1,[2]}}))}))}}),Object.defineProperty(t.prototype,"updateUser",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:this.loading=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.apiService.putUser(this.username,this.userProfile)];case 2:return e=r.sent(),e&&(this.userProfile=e,this.$bvToast.toast("User updated",{variant:"success",solid:!0,autoHideDelay:3500,noCloseButton:!0}),this.$router.go(0)),[3,4];case 3:return t=r.sent(),console.log(t),this.$bvToast.toast("Something went wrong!",{variant:"danger",solid:!0,autoHideDelay:3500,noCloseButton:!0}),[3,4];case 4:return this.loading=!1,[2]}}))}))}}),Object.defineProperty(t.prototype,"deregisterUser",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.mG)(this,void 0,void 0,(function(){var e,t;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.apiService.deleteUser(this.username,this.userProfile.email)];case 1:return e=r.sent(),e&&(localStorage.removeItem("user"),localStorage.removeItem("token"),this.$router.push({name:"login"}),this.$bvToast.toast("User deleted",{variant:"danger",solid:!0,autoHideDelay:3500,noCloseButton:!0})),[3,3];case 2:return t=r.sent(),console.log(t),this.$bvToast.toast("Something went wrong!",{variant:"danger",solid:!0,autoHideDelay:3500,noCloseButton:!0}),[3,3];case 3:return[2]}}))}))}}),Object.defineProperty(t.prototype,"created",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.loadUser()}}),t=(0,i.gn)([(0,l.wA)({components:{ValidationProvider:d.d_,ValidationObserver:d._j}})],t),t}(o["default"]),f=b,m=f,v=r(1001),p=(0,v.Z)(m,a,s,!1,null,null,null),h=p.exports}}]);
//# sourceMappingURL=768.39ad9cba.js.map