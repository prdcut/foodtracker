"use strict";(self["webpackChunkfoodtracker"]=self["webpackChunkfoodtracker"]||[]).push([[417],{9417:function(t,e,o){o.r(e),o.d(e,{default:function(){return x}});var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"h-100"},[e("navbar-component",{staticClass:"mb-3"}),e("b-row",{staticClass:"d-flex justify-content-center"},[e("b-col",{attrs:{md:"6"}},[e("b-card",{staticClass:"h-100",attrs:{"border-variant":"primary"}},[e("h5",[t._v("Food List")]),e("b-row",{staticClass:"d-flex justify-content-center"},[e("b-col",{attrs:{md:"8"}},[e("b-input-group",{staticClass:"mb-3 align-items-center"},[e("b-button",{staticClass:"p-0",attrs:{variant:"link"}},[e("unicon",{directives:[{name:"b-modal",rawName:"v-b-modal.newFoodModal",modifiers:{newFoodModal:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{name:"plus",title:"Add new food"}})],1),e("b-form-input",{staticClass:"rounded-start",staticStyle:{height:"2.13rem"},attrs:{id:"filter-input",type:"search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),e("b-input-group-append",[e("b-button",{staticClass:"rounded-0 rounded-end",staticStyle:{height:"2.13rem"},attrs:{variant:"outline-secondary",size:"sm"}},[e("unicon",{staticClass:"py-auto",attrs:{name:"times"},on:{click:function(e){t.filter=""}}})],1)],1)],1)],1)],1),e("b-row",[e("b-col",[e("b-table",{attrs:{responsive:"","show-empty":"",stacked:"md","empty-text":"Loading...","label-sort-asc":"","label-sort-desc":"","label-sort-clear":"",filter:t.filter,"filter-included-fields":t.filterOn,"current-page":t.currPage.page,"per-page":t.currPage.limit,items:t.foodList,fields:t.tableColumns},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(weight)",fn:function(e){return[t._v(" "+t._s(e.item.weight)+"g ")]}},{key:"cell(calories)",fn:function(e){return[t._v(" "+t._s(e.item.calories)+"Kcal ")]}},{key:"cell(protein)",fn:function(e){return[t._v(" "+t._s(e.item.protein)+"g ")]}},{key:"cell(carbs)",fn:function(e){return[t._v(" "+t._s(e.item.carbs)+"g ")]}},{key:"cell(fat)",fn:function(e){return[t._v(" "+t._s(e.item.fat)+"g ")]}},{key:"cell(actions)",fn:function(o){return[e("b-button",{staticClass:"p-0",attrs:{variant:"link"},on:{click:function(e){return t.editFoodItem(o.item,o.index,e.target)}}},[e("unicon",{attrs:{name:"edit-alt",width:"20px"}})],1)]}}])}),e("b-pagination",{attrs:{"total-rows":t.currPage.total,"per-page":t.currPage.limit,align:"center",size:"sm","first-number":"","last-number":""},model:{value:t.currPage.page,callback:function(e){t.$set(t.currPage,"page",e)},expression:"currPage.page"}})],1)],1)],1)],1)],1),e("new-food"),e("b-modal",{attrs:{id:t.editFoodItemModal.id,size:"md","footer-border-variant":"white","header-border-variant":"white","hide-footer":""},on:{show:t.buildFoodItem},scopedSlots:t._u([{key:"modal-header",fn:function({close:o}){return[e("h4",[t._v("Edit "+t._s(t.foodItemToEdit.name))]),e("b-button",{attrs:{size:"sm",variant:"link"},on:{click:function(t){return o()}}},[e("unicon",{attrs:{name:"times"}})],1)]}}])},[e("b-row",{staticClass:"d-flex justify-content-center align-items-center"},[e("b-col",{attrs:{md:"9"}},[e("validation-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:o}){return[e("b-form",{staticClass:"h-100 mt-2",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),o(t.updateFoodItem)}}},[e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Name")])]),e("b-col",[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{readonly:"",type:"text"},model:{value:t.foodItemToEdit.name,callback:function(e){t.$set(t.foodItemToEdit,"name",e)},expression:"foodItemToEdit.name"}})],1)],1)],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Weight")])]),e("b-col",[e("validation-provider",{attrs:{name:"Weight",rules:{numeric:!0,max:5}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{type:"text",state:t.validationState(o)},model:{value:t.foodItemToEdit.weight,callback:function(e){t.$set(t.foodItemToEdit,"weight",e)},expression:"foodItemToEdit.weight"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Protein")])]),e("b-col",[e("validation-provider",{attrs:{name:"Protein",rules:{numeric:!0,max:5}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{type:"text",state:t.validationState(o)},model:{value:t.foodItemToEdit.protein,callback:function(e){t.$set(t.foodItemToEdit,"protein",e)},expression:"foodItemToEdit.protein"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Carbs")])]),e("b-col",[e("validation-provider",{attrs:{name:"Carbs",rules:{numeric:!0,max:5}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{type:"text",state:t.validationState(o)},model:{value:t.foodItemToEdit.carbs,callback:function(e){t.$set(t.foodItemToEdit,"carbs",e)},expression:"foodItemToEdit.carbs"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Fat")])]),e("b-col",[e("validation-provider",{attrs:{name:"Fat",rules:{numeric:!0,max:5}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{type:"text",state:t.validationState(o)},model:{value:t.foodItemToEdit.fat,callback:function(e){t.$set(t.foodItemToEdit,"fat",e)},expression:"foodItemToEdit.fat"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Calories")])]),e("b-col",[e("validation-provider",{attrs:{name:"Calories",rules:{numeric:!0,max:5}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{type:"text",state:t.validationState(o)},model:{value:t.foodItemToEdit.calories,callback:function(e){t.$set(t.foodItemToEdit,"calories",e)},expression:"foodItemToEdit.calories"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{staticClass:"d-flex"},[e("b-col",[e("b-button",{staticClass:"mx-auto mt-3",staticStyle:{width:"95%"},attrs:{size:"sm",variant:"outline-secondary"},on:{click:t.cancelFoodItemToEdit}},[t._v(" Cancel ")])],1),e("b-col",[e("b-button",{staticClass:"mx-auto mt-3 text-light",staticStyle:{width:"95%"},attrs:{size:"sm",variant:"secondary",type:"submit"}},[t._v(" Edit ")])],1)],1)],1)]}}])})],1)],1)],1)],1)},r=[],i=o(655),n=o(1929),l=o(144),s=o(5014),d=o(7119),u=o(2954),c=function(t){function e(){var e=t.call(this)||this;return Object.defineProperty(e,"apiService",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"loading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"currPage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"filterOn",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"foodList",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"foodItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"newFoodItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"editFoodItemModal",{enumerable:!0,configurable:!0,writable:!0,value:{id:"editFoodItemModal",title:"",content:{}}}),e.apiService=new s.Z,e.loading=!1,e.currPage=new d._p({limit:5}),e.filter=null,e.filterOn=[],e.foodList=[],e.foodItem=new d.jr,e.newFoodItem=new d.jr,e}return(0,i.ZT)(e,t),Object.defineProperty(e.prototype,"tableColumns",{get:function(){return[{key:"name",label:"Name",sortable:!0},{key:"weight",label:"Weight"},{key:"calories",label:"Calories",sortable:!0},{key:"protein",label:"Protein",sortable:!0},{key:"carbs",label:"Carbs",sortable:!0},{key:"fat",label:"Fat",sortable:!0},{key:"actions",label:"Edit"}]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"foodItemToEdit",{get:function(){return this.editFoodItemModal.content},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"username",{get:function(){return localStorage.getItem("user").slice(1,-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editFoodItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e,o){this.editFoodItemModal.title="Row index: ".concat(e),this.editFoodItemModal.content=t,this.$root.$emit("bv::show::modal",this.editFoodItemModal.id,o)}}),Object.defineProperty(e.prototype,"onFiltered",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.currPage.total=t.length}}),Object.defineProperty(e.prototype,"validationState",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=t.dirty,o=t.validated,a=t.valid;return e||o?a:null}}),Object.defineProperty(e.prototype,"buildFoodItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=this;this.foodItem=new d.jr,this.$nextTick((function(){e.$bvModal.show(t)}))}}),Object.defineProperty(e.prototype,"cancelFoodItemToEdit",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.$bvModal.hide("editFoodItemModal")}}),Object.defineProperty(e.prototype,"loadFoodList",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:this.loading=!0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.apiService.getFoodList()];case 2:return t=o.sent(),t&&(this.foodList=t,this.currPage.total=this.foodList.length),[3,4];case 3:return e=o.sent(),console.log(e),[3,4];case 4:return this.loading=!1,[2]}}))}))}}),Object.defineProperty(e.prototype,"createFoodItem",{enumerable:!1,configurable:!0,writable:!0,value:function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:this.loading=!0,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.apiService.postFoodItem(this.newFoodItem)];case 2:return t=o.sent(),t&&(this.newFoodItem=t,this.$bvToast.toast("New food created!",{variant:"info",solid:!0,autoHideDelay:3500,noCloseButton:!0}),this.$bvModal.hide("newFoodModal"),this.$router.go(0)),[3,4];case 3:return e=o.sent(),console.log(e),this.$bvToast.toast("Something went wrong!",{variant:"danger",solid:!0,autoHideDelay:3500,noCloseButton:!0}),[3,4];case 4:return this.loading=!1,[2]}}))}))}}),Object.defineProperty(e.prototype,"updateFoodItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,o;return(0,i.Jh)(this,(function(a){switch(a.label){case 0:console.log("updateFoodItem",t),this.loading=!0,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.apiService.putFoodItem(this.foodItemToEdit)];case 2:return e=a.sent(),e&&(this.foodItem=e,this.$bvToast.toast("Food updated!",{variant:"info",solid:!0,autoHideDelay:3500,noCloseButton:!0}),this.$bvModal.hide("editFoodItemModal")),[3,4];case 3:return o=a.sent(),console.log(o),this.$bvToast.toast("Something went wrong!",{variant:"danger",solid:!0,autoHideDelay:3500,noCloseButton:!0}),[3,4];case 4:return this.loading=!1,[2]}}))}))}}),Object.defineProperty(e.prototype,"deleteFoodItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,o;return(0,i.Jh)(this,(function(a){switch(a.label){case 0:console.log("deleteFoodItem",t),this.loading=!0,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.apiService.deleteFoodItem(t)];case 2:return e=a.sent(),e&&this.$bvToast.toast("Food deleted!",{variant:"info",solid:!0,autoHideDelay:3500,noCloseButton:!0}),[3,4];case 3:return o=a.sent(),console.log(o),this.$bvToast.toast("Something went wrong!",{variant:"danger",solid:!0,autoHideDelay:3500,noCloseButton:!0}),[3,4];case 4:return this.loading=!1,[2]}}))}))}}),Object.defineProperty(e.prototype,"created",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.loadFoodList()}}),e=(0,i.gn)([(0,n.wA)({components:{ValidationProvider:u.d_,ValidationObserver:u._j}})],e),e}(l["default"]),b=c,f=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("b-modal",{attrs:{id:"newFoodModal",size:"md","footer-border-variant":"white","header-border-variant":"white","hide-footer":""},on:{show:t.buildNewFoodItem},scopedSlots:t._u([{key:"modal-header",fn:function({close:o}){return[e("h4",[t._v("New Food")]),e("b-button",{attrs:{size:"sm",variant:"link"},on:{click:function(t){return o()}}},[e("unicon",{attrs:{name:"times"}})],1)]}}])},[e("b-row",{staticClass:"d-flex justify-content-center align-items-center"},[e("b-col",{attrs:{md:"9"}},[e("validation-observer",{scopedSlots:t._u([{key:"default",fn:function({handleSubmit:o}){return[e("b-form",{staticClass:"h-100 mt-2",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),o(t.createFoodItem)}}},[e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Name")])]),e("b-col",[e("validation-provider",{attrs:{name:"Name",rules:{required:!0,alpha:!0,max:12}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{id:"name",type:"text",autocomplete:"off",state:t.validationState(o)},model:{value:t.newFoodItem.name,callback:function(e){t.$set(t.newFoodItem,"name",e)},expression:"newFoodItem.name"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Weight")])]),e("b-col",[e("validation-provider",{attrs:{name:"Weight",rules:{required:!0,numeric:!0,max:5}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{id:"weight",type:"text",autocomplete:"off",state:t.validationState(o)},model:{value:t.newFoodItem.weight,callback:function(e){t.$set(t.newFoodItem,"weight",e)},expression:"newFoodItem.weight"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Protein")])]),e("b-col",[e("validation-provider",{attrs:{name:"Protein",rules:{required:!0,numeric:!0,max:5}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{id:"protein",type:"text",autocomplete:"off",state:t.validationState(o)},model:{value:t.newFoodItem.protein,callback:function(e){t.$set(t.newFoodItem,"protein",e)},expression:"newFoodItem.protein"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Carbs")])]),e("b-col",[e("validation-provider",{attrs:{name:"Carbs",rules:{required:!0,numeric:!0,max:5}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{id:"carbs",type:"text",autocomplete:"off",state:t.validationState(o)},model:{value:t.newFoodItem.carbs,callback:function(e){t.$set(t.newFoodItem,"carbs",e)},expression:"newFoodItem.carbs"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Fat")])]),e("b-col",[e("validation-provider",{attrs:{name:"Fat",rules:{required:!0,numeric:!0,max:5}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{id:"fat",type:"text",autocomplete:"off",state:t.validationState(o)},model:{value:t.newFoodItem.fat,callback:function(e){t.$set(t.newFoodItem,"fat",e)},expression:"newFoodItem.fat"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{attrs:{"align-v":"center"}},[e("b-col",{attrs:{sm:"3"}},[e("label",[t._v("Calories")])]),e("b-col",[e("validation-provider",{attrs:{name:"Calories",rules:{required:!0,numeric:!0,max:5}},scopedSlots:t._u([{key:"default",fn:function(o){return[e("b-form-group",[e("b-form-input",{staticClass:"input",attrs:{id:"calories",type:"text",autocomplete:"off",state:t.validationState(o)},model:{value:t.newFoodItem.calories,callback:function(e){t.$set(t.newFoodItem,"calories",e)},expression:"newFoodItem.calories"}}),e("b-form-invalid-feedback",[t._v(" "+t._s(o.errors.find((t=>!!t)))+" ")])],1)]}}],null,!0)})],1)],1),e("b-row",{staticClass:"d-flex"},[e("b-col",[e("b-button",{staticClass:"mx-auto mt-3",staticStyle:{width:"95%"},attrs:{size:"sm",variant:"outline-secondary"},on:{click:t.cancelNewFood}},[t._v(" Cancel ")])],1),e("b-col",[e("b-button",{staticClass:"mx-auto mt-3 text-light",staticStyle:{width:"95%"},attrs:{size:"sm",variant:"secondary",type:"submit"}},[t._v(" Add ")])],1)],1)],1)]}}])})],1)],1)],1)],1)},m=[],p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),Object.defineProperty(e.prototype,"buildNewFoodItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e=this;this.foodItem=new d.jr,this.$nextTick((function(){e.$bvModal.show(t)}))}}),Object.defineProperty(e.prototype,"cancelNewFood",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.newFoodItem=new d.jr,this.$bvModal.hide("newFoodModal")}}),e=(0,i.gn)([(0,n.wA)({components:{}})],e),e}(b),v=p,h=v,g=o(1001),w=(0,g.Z)(h,f,m,!1,null,null,null),y=w.exports,_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e=(0,i.gn)([(0,n.wA)({components:{NewFood:y}})],e),e}(b),I=_,k=I,F=(0,g.Z)(k,a,r,!1,null,null,null),x=F.exports}}]);
//# sourceMappingURL=417.a4b7326d.js.map